(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[941],{6761:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/order",function(){return a(5571)}])},5571:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return F}});var s,r=a(9473),n=a(2771),l=a(5121),o=a(8428),i=a.n(o),c=a(3454);let ApiClient=class ApiClient{static requestSuccess(e){return e}static requestFailure(e){var t;return console.log("// REQUEST FAILURE",{error:e}),(null===(t=e.response)||void 0===t?void 0:t.status)===403&&(alert("セッションの有効期限が切れました。再度ログインしてください。"),location.href="".concat(c.env.NEXT_PUBLIC_APP_LOGIN_DOMAIN,"/login")),Promise.reject(e.response)}async get(e){let{url:t,config:a}=e;ApiClient.initIfNot();try{let e=await ApiClient.axios.get(t,a);return e}catch(e){throw console.log("get method error:",e),e}}async post(e){let{url:t,data:a,config:s}=e;ApiClient.initIfNot();try{let e=await ApiClient.axios.post(t,a,s);return console.log(e),e}catch(e){throw console.log("post method error:",e),e}}async delete(e){let{url:t,config:a}=e;ApiClient.initIfNot();try{let e=await ApiClient.axios.delete(t,a);return e}catch(e){throw console.log("error:",e),Error("delete method error:")}}async patch(e){let{url:t,data:a,config:s}=e;ApiClient.initIfNot();try{let e=await ApiClient.axios.patch(t,a,s);return e.data}catch(e){throw console.log("error:",e),Error("patch method error:")}}async put(e){let{url:t,data:a,config:s}=e;ApiClient.initIfNot();try{let e=await ApiClient.axios.put(t,a,s);return console.log(e),e.data}catch(e){throw console.log("put method error:",e),e}}constructor(e){ApiClient.init(e)}};ApiClient.init=e=>{let t="https://rjkjtufrg1.execute-api.ap-southeast-1.amazonaws.com/dev/";if(!t)throw Error("エンドポイントを取得できません");ApiClient.axios=ApiClient.createAxiosInstance(t),e&&ApiClient.setToken(e)},ApiClient.initIfNot=()=>{ApiClient.axios||ApiClient.init()},ApiClient.createAxiosInstance=e=>{if(!e)throw Error("base url is required.");let t=l.Z.create({baseURL:e,headers:{"Content-Type":"application/json"},timeout:3e4,httpsAgent:new(i()).Agent({keepAlive:!0})});return t.interceptors.response.use(e=>ApiClient.requestSuccess(e),e=>ApiClient.requestFailure(e)),t},ApiClient.setToken=e=>{var t,a;(null==ApiClient?void 0:null===(a=ApiClient.axios)||void 0===a?void 0:null===(t=a.defaults)||void 0===t?void 0:t.headers)&&(ApiClient.axios.defaults.headers["X-Api-Key"]=e)};var d=new ApiClient;let getListOrder=async()=>{let e=await d.get({url:"order/list?"});return console.log(e.data.results),e.data.results},createOrder=async e=>{console.log("params",e);let t=new FormData;t.append("price",e.price),t.append("amount",e.amount),t.append("wallet",e.wallet),t.append("quantity",e.quantity);let a=await d.post({url:"order/create",data:t,config:{headers:{"Content-Type":"application/json"}}});return console.log("create res:",a),a.data},fetchListOrder=()=>async e=>{let t=await getListOrder();return console.log("res",t),e(n.Nw.setListOrderInfo(t)),t},fetchCreateOrder=e=>async()=>{console.log("create",e);let t=await createOrder(e);return console.log("res",t),t};var u=a(5893),m=a(1163),x=a(7294),p=a(6612),h=a.n(p),g=a(6010),f=a(8672),b=a.n(f),atom_MessageValid=e=>{let{className:t,message:a}=e;return(0,u.jsx)("div",{className:(0,g.Z)("valid-feedback",t),children:a})},atom_MessageInvalid=e=>{let{className:t,message:a}=e;return(0,u.jsx)("div",{className:(0,g.Z)("invalid-feedback",t),children:a})},molecules_FormBlock=e=>{let{className:t,formClassName:a,labelClassName:s,formType:r="text",name:n,value:l,label:o,placeholder:i,explain:c="",option:d,valid:m,validMessage:x,onChange:p,onBlur:h,isDisable:f}=e,[w,y]=["",""];switch(d){case"must":w="必須",y="bg-danger";break;case"option":w="任意",y="bg-success";break;default:w="",y=""}return(0,u.jsxs)("div",{className:(0,g.Z)(b().root,t),children:[(0,u.jsxs)("label",{htmlFor:"staticEmail",className:s||"flex justify-center  mt-3  ml-2 mr-5 col-form-label",children:[o,(0,u.jsx)("span",{className:"badge ".concat(y),children:w})]}),(0,u.jsxs)("div",{className:a,children:[(0,u.jsx)("input",{type:r,className:(0,g.Z)("form-control disabled:opacity-75","focus:shadow-soft-primary-outline text-sm leading-5.6 ease-soft block w-full appearance-none rounded-lg border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-2 font-normal text-gray-700 outline-none transition-all placeholder:text-gray-500 focus:border-blue-600 focus:outline-none",void 0!==m&&m&&"is-valid",void 0!==m&&!m&&"is-invalid "),disabled:f,value:l,name:n,onChange:p,onBlur:h,id:"input",placeholder:i}),c&&(0,u.jsx)("div",{className:"form-text"}),void 0!==m&&m&&x&&(0,u.jsx)(atom_MessageValid,{message:x}),void 0!==m&&!m&&x&&(0,u.jsx)(atom_MessageInvalid,{message:x})]})]})},w=a(9651),y=a.n(w),atom_Button=e=>{let{className:t,name:a,onClick:s,type:r,isDisable:n,isLoading:l}=e,o="";switch(r){case"primary":o="inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out";break;case"danger":o="inline-block px-6 py-2.5 bg-red-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-red-700 hover:shadow-lg focus:bg-red-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-red-800 active:shadow-lg transition duration-150 ease-in-out";break;case"success":o="inline-block px-6 py-2.5 bg-green-500 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-green-600 hover:shadow-lg focus:bg-green-600 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-green-700 active:shadow-lg transition duration-150 ease-in-out";break;case"back":o="inline-block px-6 py-2.5 bg-yellow-500 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-yellow-600 hover:shadow-lg focus:bg-yellow-600 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-yellow-700 active:shadow-lg transition duration-150 ease-in-out"}return(0,u.jsxs)("button",{className:(0,g.Z)(y().root,t,"".concat(o)),type:"button",disabled:n,onClick:s,children:[a,l&&(0,u.jsx)("div",{className:"inline-block ml-2 h-4 w-4 animate-spin rounded-full  border-2 border-solid border-current border-r-transparent  align-[-0.125em] text-primary motion-reduce:animate-[spin_1.5s_linear_infinite]",role:"status"})]})},_=a(7245),v=a.n(_),atom_ButtonOutline=e=>{let{className:t,name:a,onClick:s,type:r,isDisable:n}=e,l="";switch(r){case"primary":l="border-blue-600 text-blue-600";break;case"danger":l="border-red-600 text-red-600";break;case"success":l="border-green-500 text-green-500"}return(0,u.jsx)("button",{className:(0,g.Z)(v().root,t,"".concat(l),"inline-block px-6 py-2 border-2  font-medium text-xs leading-tight uppercase rounded hover:bg-black hover:bg-opacity-5 focus:outline-none focus:ring-0 transition duration-150 ease-in-out"),type:"button",disabled:n,onClick:s,children:a})},N=a(2041),j=a.n(N),atom_Label=e=>{let{className:t,text:a,badge:s,badgeStyle:r}=e;return(0,u.jsxs)("label",{className:(0,g.Z)(j().root,t),children:[a,(0,u.jsx)("span",{className:"badge ".concat(r),children:s})]})},C=a(9097),A=a.n(C),molecules_Table=e=>{let{className:t,formClassName:a,explain:s,help:r,listColunm:n,listData:l,isDeleteButton:o,isDetailButton:i,isDetailInvoiceButton:c,onClickDelete:d,onClickDetail:m,onClickEdit:x,onClickDetailInvoice:p}=e,row=(e,t,a)=>{if("actions"===e)return(0,u.jsxs)("div",{className:"flex row",children:[(0,u.jsx)(atom_Button,{name:"Sửa",onClick:()=>null==x?void 0:x(a),type:"primary"}),o&&(0,u.jsx)(atom_Button,{className:"mx-2",name:"X\xf3a",onClick:()=>null==d?void 0:d(a),type:"danger"}),i&&(0,u.jsx)(atom_ButtonOutline,{className:"mx-2",name:"Chi Tiết",onClick:()=>null==m?void 0:m(a),type:"primary"}),c&&(0,u.jsx)(atom_ButtonOutline,{className:"mx-2",name:"Chi Tiết H\xf3a Đơn",onClick:()=>null==p?void 0:p(a),type:"primary"})]});if("status"!=e)return(0,u.jsxs)("span",{className:(0,g.Z)("text-truncate flex items-center ",A().textTruncate),children:[t," "]});switch(t){case"Chưa Th\xe1nh To\xe1n":case"Đ\xe3 Trả Ph\xf2ng":case"Hủy đặt cọc":return(0,u.jsxs)("span",{className:(0,g.Z)("text-truncate font-bold flex items-center text-red-500",A().textTruncate),children:[t," "]});case"Đ\xe3 Thanh To\xe1n":case"1":return(0,u.jsxs)("span",{className:(0,g.Z)("text-truncate font-bold flex items-center text-blue-500",A().textTruncate),children:["Đ\xe3 Chuyển Th\xe0nh C\xf4ng"," "]});default:return(0,u.jsxs)("span",{className:(0,g.Z)("text-truncate font-bold flex items-center text-green-500",A().textTruncate),children:["Order Th\xe0nh C\xf4ng"," "]})}};return(0,u.jsxs)("div",{className:(0,g.Z)(A().root,t),children:[(0,u.jsx)("div",{className:(0,g.Z)("py-2 inline-block min-w-full sm:px-6 lg:px-8",a),children:(0,u.jsxs)("table",{className:(0,g.Z)("min-w-full ",A().table),children:[(0,u.jsx)("thead",{children:(0,u.jsx)("tr",{children:null==n?void 0:n.map(e=>(0,u.jsx)("th",{className:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col",children:e},e.toString()))})}),(0,u.jsx)("tbody",{children:null==l?void 0:l.map((e,t)=>(0,u.jsx)("tr",{className:(0,g.Z)("border-b",t%2==0?"bg-white":"bg-gray-100 "),children:Object.entries(e).map((e,a)=>(0,u.jsx)("td",{className:(0,g.Z)("text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap"),children:row(e[0],e[1],t)},a))},t))})]})}),s&&(0,u.jsx)("div",{className:"form-text",children:s})]})},k=a(5675),O=a.n(k),T=a(5678),B=a(8),D=a.n(B),I=a(7484),L=a.n(I),S=a(9387),E=a.n(S),Z=a(178),H=a.n(Z);L().extend(E()),L().extend(H()),L().tz.setDefault("Asia/Tokyo");let DateUtils=class DateUtils{static format(e,t){return D()(e).format(t)}static formatDateString(e){return D()(e).format("yyyy-MM-DD hh:ss")}static subtractDate(e,t){return D()(e).subtract(t,"days")}static addDate(e,t){return D()(e).add(t,"days")}static toDate(e,t){return D()(e,t).toDate()}};DateUtils.unixMilliSecondsToDateTime=e=>{let t=new Date(e),a=t.getFullYear(),s=t.getMonth()+1,r=t.getDate(),n=t.getHours(),l=t.getMinutes(),o=t.getSeconds();return a+"-"+s+"-"+r+"-"+ +n+":"+l+":"+o},DateUtils.isAfter=(e,t)=>D()(e).isAfter(t),DateUtils.isBefore=(e,t)=>D()(e).isBefore(t),DateUtils.isSameOrBefore=(e,t)=>D()(e).isSameOrBefore(t),DateUtils.isSameOrAfter=(e,t)=>D()(e).isSameOrAfter(t);var F=(s=()=>{let e=(0,r.I0)(),getListOrder=async()=>e(fetchListOrder()),createOrder=async t=>e(fetchCreateOrder(t));return{getListOrder,createOrder}},()=>{let[e,t]=(0,x.useState)(0),[a,n]=(0,x.useState)("0"),[l,o]=(0,x.useState)(""),[i,c]=(0,x.useState)(.015),[d,p]=(0,x.useState)("0");(0,m.useRouter)();let[f,b]=(0,x.useState)([]),[w,y]=(0,x.useState)(!1),_=(0,r.v9)(e=>e.order.listOrder),{createOrder:v,getListOrder:N}=s();(0,x.useEffect)(()=>{N()},[]),(0,x.useEffect)(()=>{let e=[];_.map(t=>{e.push({createAt:DateUtils.formatDateString(t.createAt),status:t.status,wallet:t.wallet,amount:t.amount,quantity:t.quantity})}),b(e),console.log("list",e)},[_]),(0,x.useEffect)(()=>p(Number(a)/i+""),[a]);let onClickOrder=async()=>{y(!0);let e={price:i+"",wallet:l,amount:a,quantity:d};console.log(e),await v(e),y(!1),T.Am.success("Bạn Đ\xe3 Order Th\xe0nh C\xf4ng."),await N()};return(0,u.jsx)("main",{className:(0,g.Z)(h().main),children:(0,u.jsx)("div",{className:"responsive",children:(0,u.jsxs)("div",{className:"container",children:[(0,u.jsx)("div",{className:"mb-3 mt-8 flex text-2xl",children:(0,u.jsxs)("div",{className:"row inline flex",children:[(0,u.jsx)(O(),{src:"/logo.png",alt:"Vercel Logo",className:(0,g.Z)(h().vercelLogo,"mb-3 flex-1 ms-24"),width:48,height:24,priority:!0}),(0,u.jsxs)("h3",{className:"d-flex flex-row sm:flex-col left ml-2",children:[(0,u.jsx)("i",{className:"bi bi-filetype-csv me-1"}),"~ 0.015$"]})]})}),(0,u.jsxs)("div",{className:"flex flex-col mb-3 sm:ml-24 mt-10 ",children:[(0,u.jsxs)("div",{className:"flex flex-row",children:[(0,u.jsx)(molecules_FormBlock,{className:"flex flex-row",formClassName:"flex-1",label:"Nhập Số Lượng: ",value:a,onChange:e=>{let t=e.target;n(t.value)},placeholder:"",explain:""}),(0,u.jsx)(atom_Label,{text:"$",className:"justify-center mt-1"}),(0,u.jsx)(atom_ButtonOutline,{className:"ml-2",name:"100$",onClick:()=>n("100"),type:"primary"}),(0,u.jsx)(atom_ButtonOutline,{className:"ml-2",name:"250$",onClick:()=>n("250"),type:"primary"}),(0,u.jsx)(atom_ButtonOutline,{className:"ml-2",name:"500$",onClick:()=>n("500"),type:"primary"})]}),(0,u.jsx)("div",{className:"flex flex-row mt-2",children:(0,u.jsx)(molecules_FormBlock,{className:"flex flex-row",formClassName:"flex-2",label:"Nhập V\xed BSC: ",value:l,onChange:e=>{let t=e.target;o(t.value)},placeholder:"Nhập v\xed wallet BSC",explain:""})}),(0,u.jsx)(atom_Label,{className:"ml-2 mt-2",text:"FIB ước t\xednh:   "+d+"  FIB"}),(0,u.jsx)(atom_Button,{className:"ml-2 mt-2 w-40",type:"primary",name:"Order",onClick:onClickOrder,isDisable:w,isLoading:w})]}),(0,u.jsxs)("div",{className:"flex flex-col mb-3 sm:ml-24 mt-10 ",children:[(0,u.jsx)(atom_Label,{className:"ml-2 mt-2",text:"Latest Transactions"}),(0,u.jsx)(molecules_Table,{className:"mt-10 overflow-x-auto sm:-mx-6 lg:-mx-8",listColunm:["Date","Trạng Th\xe1i","Wallet","Amount","FIB"],listData:f,isDetailButton:!1})]})]})})})})},6612:function(e){e.exports={main:"Home_main__VkIEL",description:"Home_description__uXNdx",code:"Home_code__VVrIr",grid:"Home_grid__AVljO",card:"Home_card__E5spL",center:"Home_center__O_TIN",logo:"Home_logo__IOQAX",thirteen:"Home_thirteen__sqGDr",rotate:"Home_rotate__c5eru",content:"Home_content__tkQPU",vercelLogo:"Home_vercelLogo___BVuc"}},9651:function(){},7245:function(){},2041:function(){},8672:function(){},9097:function(e){e.exports={textTruncate:"style_textTruncate__zb8HT",table:"style_table__7a0D3"}}},function(e){e.O(0,[678,885,781,774,888,179],function(){return e(e.s=6761)}),_N_E=e.O()}]);